# ============================================================================
# LTIP Web Application - Environment Configuration
# ============================================================================
#
# This file contains all environment variables used by the web application.
# Copy this file to .env.local for local development and customize as needed.
#
# IMPORTANT: Variables with NEXT_PUBLIC_ prefix are exposed to the browser.
# Do NOT put secrets in NEXT_PUBLIC_ variables.
#

# ============================================================================
# API Configuration
# ============================================================================

# Base URL for API requests
# Default: http://localhost:4000
# Production example: https://api.ltip.example.com
NEXT_PUBLIC_API_URL=http://localhost:4000

# Maximum number of retry attempts for transient API failures (network errors, 5xx, 429)
# Default: 3
# Range: 0-10 (0 disables retries, higher values increase resilience but may slow down error feedback)
NEXT_PUBLIC_API_MAX_RETRIES=3

# Initial backoff delay in milliseconds for exponential retry
# Default: 1000 (1 second)
# Range: 100-5000ms (lower = faster retries but more aggressive, higher = gentler on server)
NEXT_PUBLIC_API_INITIAL_BACKOFF_MS=1000

# Maximum backoff delay in milliseconds (caps exponential growth)
# Default: 30000 (30 seconds)
# Range: 5000-60000ms (prevents retries from waiting too long)
NEXT_PUBLIC_API_MAX_BACKOFF_MS=30000

# Maximum CSRF token refresh attempts to prevent infinite loops
# Default: 2
# Range: 1-5 (higher values increase resilience to token issues but may mask problems)
NEXT_PUBLIC_API_MAX_CSRF_REFRESH_ATTEMPTS=2

# ============================================================================
# SWR (State While Revalidate) Configuration
# ============================================================================

# Deduplication interval in milliseconds
# SWR will deduplicate requests with the same key within this interval
# Default: 5000 (5 seconds)
# Range: 1000-10000ms (lower = more frequent requests, higher = better performance)
NEXT_PUBLIC_SWR_DEDUPING_INTERVAL=5000

# Whether to revalidate data when window regains focus
# Default: false
# Options: true | false (true = always fresh data, false = better performance)
NEXT_PUBLIC_SWR_REVALIDATE_ON_FOCUS=false

# ============================================================================
# Environment-Specific Examples
# ============================================================================

# Development (default - already set above)
# NEXT_PUBLIC_API_URL=http://localhost:4000
# NEXT_PUBLIC_API_MAX_RETRIES=3
# NEXT_PUBLIC_SWR_REVALIDATE_ON_FOCUS=false

# Staging
# NEXT_PUBLIC_API_URL=https://api-staging.ltip.example.com
# NEXT_PUBLIC_API_MAX_RETRIES=5
# NEXT_PUBLIC_SWR_REVALIDATE_ON_FOCUS=false

# Production
# NEXT_PUBLIC_API_URL=https://api.ltip.example.com
# NEXT_PUBLIC_API_MAX_RETRIES=5
# NEXT_PUBLIC_API_MAX_BACKOFF_MS=60000
# NEXT_PUBLIC_SWR_REVALIDATE_ON_FOCUS=false
